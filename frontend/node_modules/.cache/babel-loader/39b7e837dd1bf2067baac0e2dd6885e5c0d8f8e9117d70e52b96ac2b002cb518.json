{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\"\n};\nvar _hoisted_2 = {\n  \"class\": \"max-w-md w-full space-y-8\"\n};\nvar _hoisted_3 = {\n  \"class\": \"mt-2 text-center text-sm text-gray-600\"\n};\nvar _hoisted_4 = {\n  \"class\": \"rounded-md shadow-sm -space-y-px\"\n};\nvar _hoisted_5 = [\"disabled\"];\nvar _hoisted_6 = {\n  \"class\": \"absolute left-0 inset-y-0 flex items-center pl-3\"\n};\nvar _hoisted_7 = {\n  key: 0,\n  \"class\": \"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 20 20\",\n  fill: \"currentColor\",\n  \"aria-hidden\": \"true\"\n};\nvar _hoisted_8 = {\n  key: 1,\n  \"class\": \"animate-spin h-5 w-5 text-white\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\"\n};\nvar _hoisted_9 = {\n  key: 0,\n  \"class\": \"mt-4 text-center text-sm text-red-600\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", {\n    \"class\": \"mt-6 text-center text-3xl font-extrabold text-gray-900\"\n  }, \" Войти в аккаунт \", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_3, [_cache[4] || (_cache[4] = _createTextVNode(\" Или \")), _createVNode(_component_router_link, {\n    to: \"/register\",\n    \"class\": \"font-medium text-indigo-600 hover:text-indigo-500\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[3] || (_cache[3] = [_createTextVNode(\" зарегистрируйтесь \")]);\n    }),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"form\", {\n    \"class\": \"mt-8 space-y-6\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers(function () {\n      return $setup.handleSubmit && $setup.handleSubmit.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    \"for\": \"email\",\n    \"class\": \"sr-only\"\n  }, \"Email\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.form.username = $event;\n    }),\n    name: \"email\",\n    type: \"email\",\n    required: \"\",\n    \"class\": \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n    placeholder: \"Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.username]])]), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    \"for\": \"password\",\n    \"class\": \"sr-only\"\n  }, \"Пароль\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.form.password = $event;\n    }),\n    name: \"password\",\n    type: \"password\",\n    required: \"\",\n    \"class\": \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n    placeholder: \"Пароль\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.password]])])]), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    \"class\": \"flex items-center justify-between\"\n  }, [_createElementVNode(\"div\", {\n    \"class\": \"text-sm\"\n  }, [_createElementVNode(\"a\", {\n    href: \"#\",\n    \"class\": \"font-medium text-indigo-600 hover:text-indigo-500\"\n  }, \" Забыли пароль? \")])], -1 /* HOISTED */)), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.loading,\n    \"class\": \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n  }, [_createElementVNode(\"span\", _hoisted_6, [!$setup.loading ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_7, _cache[8] || (_cache[8] = [_createElementVNode(\"path\", {\n    \"fill-rule\": \"evenodd\",\n    d: \"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\",\n    \"clip-rule\": \"evenodd\"\n  }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_8, _cache[9] || (_cache[9] = [_createElementVNode(\"circle\", {\n    \"class\": \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    \"class\": \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  }, null, -1 /* HOISTED */)])))]), _createTextVNode(\" \" + _toDisplayString($setup.loading ? 'Вход...' : 'Войти'), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_5)])], 32 /* NEED_HYDRATION */), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["key","xmlns","viewBox","fill","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createTextVNode","_createVNode","_component_router_link","to","_withCtx","_cache","_","onSubmit","_withModifiers","$setup","handleSubmit","apply","arguments","_hoisted_4","id","$event","form","username","name","type","required","placeholder","password","href","disabled","loading","_hoisted_6","_hoisted_7","d","_hoisted_8","cx","cy","r","stroke","_toDisplayString","_hoisted_5","error","_hoisted_9","_createCommentVNode"],"sources":["D:\\eventfull\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          Войти в аккаунт\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\r\n          Или\r\n          <router-link to=\"/register\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n            зарегистрируйтесь\r\n          </router-link>\r\n        </p>\r\n      </div>\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleSubmit\">\r\n        <div class=\"rounded-md shadow-sm -space-y-px\">\r\n          <div>\r\n            <label for=\"email\" class=\"sr-only\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.username\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Email\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"password\" class=\"sr-only\">Пароль</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Пароль\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"text-sm\">\r\n            <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n              Забыли пароль?\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n          >\r\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n              <svg\r\n                v-if=\"!loading\"\r\n                class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\"\r\n                  clip-rule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <svg\r\n                v-else\r\n                class=\"animate-spin h-5 w-5 text-white\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <circle\r\n                  class=\"opacity-25\"\r\n                  cx=\"12\"\r\n                  cy=\"12\"\r\n                  r=\"10\"\r\n                  stroke=\"currentColor\"\r\n                  stroke-width=\"4\"\r\n                ></circle>\r\n                <path\r\n                  class=\"opacity-75\"\r\n                  fill=\"currentColor\"\r\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                ></path>\r\n              </svg>\r\n            </span>\r\n            {{ loading ? 'Вход...' : 'Войти' }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <div v-if=\"error\" class=\"mt-4 text-center text-sm text-red-600\">\r\n        {{ error }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n    const form = ref({\r\n      username: '',\r\n      password: ''\r\n    })\r\n\r\n    const handleSubmit = async () => {\r\n      loading.value = true\r\n      error.value = ''\r\n      \r\n      try {\r\n        await store.dispatch('login', form.value)\r\n        router.push('/profile') // Перенаправляем на страницу профиля после успешного входа\r\n      } catch (err) {\r\n        error.value = err.response?.data?.detail || 'Произошла ошибка при входе'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      form,\r\n      loading,\r\n      error,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}