{"ast":null,"code":"import { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  name: 'Login',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    const loading = ref(false);\n    const error = ref('');\n    const form = ref({\n      email: '',\n      password: '',\n      rememberMe: false\n    });\n    const handleSubmit = async () => {\n      loading.value = true;\n      error.value = '';\n      try {\n        await store.dispatch('login', {\n          email: form.value.email,\n          password: form.value.password\n        });\n\n        // Redirect to the requested page or home\n        const redirectPath = route.query.redirect || '/';\n        router.push(redirectPath);\n      } catch (err) {\n        error.value = err.message || 'Failed to sign in. Please check your credentials.';\n      } finally {\n        loading.value = false;\n      }\n    };\n    return {\n      form,\n      loading,\n      error,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","useRouter","useRoute","name","setup","store","router","route","loading","error","form","email","password","rememberMe","handleSubmit","value","dispatch","redirectPath","query","redirect","push","err","message"],"sources":["D:\\eventfull\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          Sign in to your account\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\r\n          Or\r\n          <router-link to=\"/register\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n            create a new account\r\n          </router-link>\r\n        </p>\r\n      </div>\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleSubmit\">\r\n        <div class=\"rounded-md shadow-sm -space-y-px\">\r\n          <div>\r\n            <label for=\"email\" class=\"sr-only\">Email address</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.email\"\r\n              type=\"email\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Email address\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"password\" class=\"sr-only\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"flex items-center\">\r\n            <input\r\n              id=\"remember-me\"\r\n              v-model=\"form.rememberMe\"\r\n              type=\"checkbox\"\r\n              class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\r\n            />\r\n            <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">\r\n              Remember me\r\n            </label>\r\n          </div>\r\n\r\n          <div class=\"text-sm\">\r\n            <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n              Forgot your password?\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n          >\r\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n              <svg\r\n                class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\"\r\n                  clip-rule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </span>\r\n            {{ loading ? 'Signing in...' : 'Sign in' }}\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Error Message -->\r\n        <div v-if=\"error\" class=\"text-red-600 text-sm text-center\">\r\n          {{ error }}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter, useRoute } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n\r\n    const form = ref({\r\n      email: '',\r\n      password: '',\r\n      rememberMe: false\r\n    })\r\n\r\n    const handleSubmit = async () => {\r\n      loading.value = true\r\n      error.value = ''\r\n\r\n      try {\r\n        await store.dispatch('login', {\r\n          email: form.value.email,\r\n          password: form.value.password\r\n        })\r\n\r\n        // Redirect to the requested page or home\r\n        const redirectPath = route.query.redirect || '/'\r\n        router.push(redirectPath)\r\n      } catch (err) {\r\n        error.value = err.message || 'Failed to sign in. Please check your credentials.'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      form,\r\n      loading,\r\n      error,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"AA+FA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAW;AAE/C,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,MAAK,GAAIL,SAAS,CAAC;IACzB,MAAMM,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,OAAM,GAAIT,GAAG,CAAC,KAAK;IACzB,MAAMU,KAAI,GAAIV,GAAG,CAAC,EAAE;IAEpB,MAAMW,IAAG,GAAIX,GAAG,CAAC;MACfY,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE;IACd,CAAC;IAED,MAAMC,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/BN,OAAO,CAACO,KAAI,GAAI,IAAG;MACnBN,KAAK,CAACM,KAAI,GAAI,EAAC;MAEf,IAAI;QACF,MAAMV,KAAK,CAACW,QAAQ,CAAC,OAAO,EAAE;UAC5BL,KAAK,EAAED,IAAI,CAACK,KAAK,CAACJ,KAAK;UACvBC,QAAQ,EAAEF,IAAI,CAACK,KAAK,CAACH;QACvB,CAAC;;QAED;QACA,MAAMK,YAAW,GAAIV,KAAK,CAACW,KAAK,CAACC,QAAO,IAAK,GAAE;QAC/Cb,MAAM,CAACc,IAAI,CAACH,YAAY;MAC1B,EAAE,OAAOI,GAAG,EAAE;QACZZ,KAAK,CAACM,KAAI,GAAIM,GAAG,CAACC,OAAM,IAAK,mDAAkD;MACjF,UAAU;QACRd,OAAO,CAACO,KAAI,GAAI,KAAI;MACtB;IACF;IAEA,OAAO;MACLL,IAAI;MACJF,OAAO;MACPC,KAAK;MACLK;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}