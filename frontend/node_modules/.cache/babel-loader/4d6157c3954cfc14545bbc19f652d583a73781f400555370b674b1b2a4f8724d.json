{"ast":null,"code":"import _regeneratorRuntime from \"D:/eventfull/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/eventfull/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: 'Events',\n  setup: function setup() {\n    var events = ref([]);\n    var loading = ref(true);\n    var error = ref(null);\n    var fetchEvents = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              loading.value = true;\n              error.value = null;\n              _context.next = 5;\n              return axios.get('http://localhost:8000/events/');\n            case 5:\n              response = _context.sent;\n              events.value = response.data;\n              _context.next = 13;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              error.value = 'Ошибка при загрузке событий';\n              console.error('Error fetching events:', _context.t0);\n            case 13:\n              _context.prev = 13;\n              loading.value = false;\n              return _context.finish(13);\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9, 13, 16]]);\n      }));\n      return function fetchEvents() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var formatDate = function formatDate(date) {\n      return new Date(date).toLocaleDateString('ru-RU', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    var joinEvent = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(eventId) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              try {\n                // TODO: Implement event joining logic\n                console.log('Joining event:', eventId);\n              } catch (err) {\n                console.error('Error joining event:', err);\n              }\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function joinEvent(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      fetchEvents();\n    });\n    return {\n      events: events,\n      loading: loading,\n      error: error,\n      formatDate: formatDate,\n      joinEvent: joinEvent\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","name","setup","events","loading","error","fetchEvents","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","value","get","sent","data","t0","console","finish","stop","apply","arguments","formatDate","date","Date","toLocaleDateString","year","month","day","hour","minute","joinEvent","_ref2","_callee2","eventId","_callee2$","_context2","log","err","_x"],"sources":["D:\\eventfull\\frontend\\src\\views\\Events.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n    <div class=\"px-4 py-6 sm:px-0\">\r\n      <div class=\"flex justify-between items-center mb-6\">\r\n        <h1 class=\"text-3xl font-bold text-gray-900\">События</h1>\r\n        <router-link\r\n          to=\"/events/create\"\r\n          class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\"\r\n        >\r\n          Создать событие\r\n        </router-link>\r\n      </div>\r\n\r\n      <!-- Loading state -->\r\n      <div v-if=\"loading\" class=\"text-center py-12\">\r\n        <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\r\n        <p class=\"mt-4 text-gray-600\">Загрузка событий...</p>\r\n      </div>\r\n\r\n      <!-- Error state -->\r\n      <div v-else-if=\"error\" class=\"text-center py-12\">\r\n        <p class=\"text-red-600\">{{ error }}</p>\r\n      </div>\r\n\r\n      <!-- Empty state -->\r\n      <div v-else-if=\"!events.length\" class=\"text-center py-12\">\r\n        <p class=\"text-gray-600\">Пока нет событий</p>\r\n      </div>\r\n\r\n      <!-- Events list -->\r\n      <div v-else class=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        <div\r\n          v-for=\"event in events\"\r\n          :key=\"event.id\"\r\n          class=\"bg-white overflow-hidden shadow rounded-lg\"\r\n        >\r\n          <div class=\"p-6\">\r\n            <div class=\"flex items-center\">\r\n              <div class=\"flex-1\">\r\n                <h3 class=\"text-lg font-medium text-gray-900\">{{ event.title }}</h3>\r\n                <p class=\"mt-1 text-sm text-gray-500\">{{ event.category }}</p>\r\n              </div>\r\n              <div class=\"ml-4\">\r\n                <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\" :class=\"event.price === 0 ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'\">\r\n                  {{ event.price === 0 ? 'Бесплатно' : `${event.price} ₽` }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <p class=\"mt-3 text-sm text-gray-500\">{{ event.description }}</p>\r\n            <div class=\"mt-4\">\r\n              <div class=\"flex items-center text-sm text-gray-500\">\r\n                <svg class=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                {{ formatDate(event.date) }}\r\n              </div>\r\n              <div class=\"mt-2 flex items-center text-sm text-gray-500\">\r\n                <svg class=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                {{ event.location }}\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-4 flex justify-between items-center\">\r\n              <div class=\"text-sm text-gray-500\">\r\n                {{ event.participants.length }}/{{ event.max_participants }} участников\r\n              </div>\r\n              <button\r\n                class=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-indigo-700 bg-indigo-100 hover:bg-indigo-200\"\r\n                @click=\"joinEvent(event.id)\"\r\n              >\r\n                Участвовать\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Events',\r\n  setup() {\r\n    const events = ref([])\r\n    const loading = ref(true)\r\n    const error = ref(null)\r\n\r\n    const fetchEvents = async () => {\r\n      try {\r\n        loading.value = true\r\n        error.value = null\r\n        const response = await axios.get('http://localhost:8000/events/')\r\n        events.value = response.data\r\n      } catch (err) {\r\n        error.value = 'Ошибка при загрузке событий'\r\n        console.error('Error fetching events:', err)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    const formatDate = (date) => {\r\n      return new Date(date).toLocaleDateString('ru-RU', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    }\r\n\r\n    const joinEvent = async (eventId) => {\r\n      try {\r\n        // TODO: Implement event joining logic\r\n        console.log('Joining event:', eventId)\r\n      } catch (err) {\r\n        console.error('Error joining event:', err)\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      fetchEvents()\r\n    })\r\n\r\n    return {\r\n      events,\r\n      loading,\r\n      error,\r\n      formatDate,\r\n      joinEvent\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":";;;AAkFA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,MAAK,GAAIL,GAAG,CAAC,EAAE;IACrB,IAAMM,OAAM,GAAIN,GAAG,CAAC,IAAI;IACxB,IAAMO,KAAI,GAAIP,GAAG,CAAC,IAAI;IAEtB,IAAMQ,WAAU;MAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAEhBZ,OAAO,CAACc,KAAI,GAAI,IAAG;cACnBb,KAAK,CAACa,KAAI,GAAI,IAAG;cAAAH,QAAA,CAAAE,IAAA;cAAA,OACMjB,KAAK,CAACmB,GAAG,CAAC,+BAA+B;YAAA;cAA1DP,QAAO,GAAAG,QAAA,CAAAK,IAAA;cACbjB,MAAM,CAACe,KAAI,GAAIN,QAAQ,CAACS,IAAG;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAO,EAAA,GAAAP,QAAA;cAE3BV,KAAK,CAACa,KAAI,GAAI,6BAA4B;cAC1CK,OAAO,CAAClB,KAAK,CAAC,wBAAwB,EAAAU,QAAA,CAAAO,EAAK;YAAA;cAAAP,QAAA,CAAAC,IAAA;cAE3CZ,OAAO,CAACc,KAAI,GAAI,KAAI;cAAA,OAAAH,QAAA,CAAAS,MAAA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CAExB;MAAA,gBAZML,WAAUA,CAAA;QAAA,OAAAC,IAAA,CAAAmB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAYhB;IAEA,IAAMC,UAAS,GAAI,SAAbA,UAASA,CAAKC,IAAI,EAAK;MAC3B,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;QAChDC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,MAAM;QACbC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACV,CAAC;IACH;IAEA,IAAMC,SAAQ;MAAA,IAAAC,KAAA,GAAA9B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAA6B,SAAOC,OAAO;QAAA,OAAA/B,mBAAA,GAAAI,IAAA,UAAA4B,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA1B,IAAA,GAAA0B,SAAA,CAAAzB,IAAA;YAAA;cAC9B,IAAI;gBACF;gBACAM,OAAO,CAACoB,GAAG,CAAC,gBAAgB,EAAEH,OAAO;cACvC,EAAE,OAAOI,GAAG,EAAE;gBACZrB,OAAO,CAAClB,KAAK,CAAC,sBAAsB,EAAEuC,GAAG;cAC3C;YAAA;YAAA;cAAA,OAAAF,SAAA,CAAAjB,IAAA;UAAA;QAAA,GAAAc,QAAA;MAAA,CACF;MAAA,gBAPMF,SAAQA,CAAAQ,EAAA;QAAA,OAAAP,KAAA,CAAAZ,KAAA,OAAAC,SAAA;MAAA;IAAA,GAOd;IAEA5B,SAAS,CAAC,YAAM;MACdO,WAAW,CAAC;IACd,CAAC;IAED,OAAO;MACLH,MAAM,EAANA,MAAM;MACNC,OAAO,EAAPA,OAAO;MACPC,KAAK,EAALA,KAAK;MACLuB,UAAU,EAAVA,UAAU;MACVS,SAAQ,EAARA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}