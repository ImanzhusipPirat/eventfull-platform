{"ast":null,"code":"import { ref, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'Events',\n  setup() {\n    const store = useStore();\n    const searchQuery = ref('');\n    const categoryFilter = ref('');\n    const priceFilter = ref('');\n    const dateFilter = ref('');\n    const events = computed(() => store.getters.events);\n    const loading = computed(() => store.getters.loading);\n    const error = computed(() => store.getters.error);\n    const categories = computed(() => {\n      const uniqueCategories = new Set(events.value.map(event => event.category));\n      return Array.from(uniqueCategories);\n    });\n    const filteredEvents = computed(() => {\n      return events.value.filter(event => {\n        const matchesSearch = event.title.toLowerCase().includes(searchQuery.value.toLowerCase()) || event.description.toLowerCase().includes(searchQuery.value.toLowerCase());\n        const matchesCategory = !categoryFilter.value || event.category === categoryFilter.value;\n        const matchesPrice = !priceFilter.value || priceFilter.value === 'free' && event.price === 0 || priceFilter.value === 'paid' && event.price > 0;\n        const matchesDate = !dateFilter.value || matchesDateFilter(event.date, dateFilter.value);\n        return matchesSearch && matchesCategory && matchesPrice && matchesDate;\n      });\n    });\n    const formatDate = date => {\n      return new Date(date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    };\n    const matchesDateFilter = (date, filter) => {\n      const eventDate = new Date(date);\n      const today = new Date();\n      const weekFromNow = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);\n      const monthFromNow = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000);\n      switch (filter) {\n        case 'today':\n          return eventDate.toDateString() === today.toDateString();\n        case 'week':\n          return eventDate >= today && eventDate <= weekFromNow;\n        case 'month':\n          return eventDate >= today && eventDate <= monthFromNow;\n        default:\n          return true;\n      }\n    };\n    onMounted(async () => {\n      try {\n        await store.dispatch('fetchEvents');\n      } catch (error) {\n        console.error('Error fetching events:', error);\n      }\n    });\n    return {\n      events,\n      loading,\n      error,\n      searchQuery,\n      categoryFilter,\n      priceFilter,\n      dateFilter,\n      categories,\n      filteredEvents,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useStore","name","setup","store","searchQuery","categoryFilter","priceFilter","dateFilter","events","getters","loading","error","categories","uniqueCategories","Set","value","map","event","category","Array","from","filteredEvents","filter","matchesSearch","title","toLowerCase","includes","description","matchesCategory","matchesPrice","price","matchesDate","matchesDateFilter","date","formatDate","Date","toLocaleDateString","year","month","day","eventDate","today","weekFromNow","getTime","monthFromNow","toDateString","dispatch","console"],"sources":["D:\\eventfull\\frontend\\src\\views\\Events.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"py-8\">\r\n      <h1 class=\"text-3xl font-bold text-gray-900\">All Events</h1>\r\n      \r\n      <!-- Search and Filter Section -->\r\n      <div class=\"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\r\n        <div class=\"col-span-1\">\r\n          <input\r\n            v-model=\"searchQuery\"\r\n            type=\"text\"\r\n            placeholder=\"Search events...\"\r\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          />\r\n        </div>\r\n        <div class=\"col-span-1\">\r\n          <select\r\n            v-model=\"categoryFilter\"\r\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          >\r\n            <option value=\"\">All Categories</option>\r\n            <option v-for=\"category in categories\" :key=\"category\" :value=\"category\">\r\n              {{ category }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-span-1\">\r\n          <select\r\n            v-model=\"priceFilter\"\r\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          >\r\n            <option value=\"\">All Prices</option>\r\n            <option value=\"free\">Free</option>\r\n            <option value=\"paid\">Paid</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-span-1\">\r\n          <select\r\n            v-model=\"dateFilter\"\r\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          >\r\n            <option value=\"\">All Dates</option>\r\n            <option value=\"today\">Today</option>\r\n            <option value=\"week\">This Week</option>\r\n            <option value=\"month\">This Month</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Events Grid -->\r\n      <div class=\"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n        <div\r\n          v-for=\"event in filteredEvents\"\r\n          :key=\"event.id\"\r\n          class=\"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow duration-300\"\r\n        >\r\n          <div class=\"relative pb-2/3\">\r\n            <img\r\n              :src=\"event.image_url || 'https://via.placeholder.com/400x300'\"\r\n              :alt=\"event.title\"\r\n              class=\"absolute h-full w-full object-cover\"\r\n            />\r\n          </div>\r\n          <div class=\"p-6\">\r\n            <div class=\"flex items-center\">\r\n              <div class=\"flex-shrink-0\">\r\n                <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\r\n                  {{ event.category }}\r\n                </span>\r\n              </div>\r\n              <div class=\"ml-2 text-sm text-gray-500\">\r\n                {{ formatDate(event.date) }}\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-4\">\r\n              <h3 class=\"text-lg font-medium text-gray-900\">\r\n                {{ event.title }}\r\n              </h3>\r\n              <p class=\"mt-2 text-sm text-gray-500 line-clamp-2\">\r\n                {{ event.description }}\r\n              </p>\r\n            </div>\r\n            <div class=\"mt-4 flex items-center justify-between\">\r\n              <div class=\"text-sm text-gray-500\">\r\n                {{ event.location }}\r\n              </div>\r\n              <div class=\"text-lg font-medium text-gray-900\">\r\n                {{ event.price === 0 ? 'Free' : `$${event.price}` }}\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-4\">\r\n              <router-link\r\n                :to=\"`/events/${event.id}`\"\r\n                class=\"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                View Details\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"mt-8 text-center\">\r\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-indigo-600 border-t-transparent\"></div>\r\n        <p class=\"mt-2 text-gray-500\">Loading events...</p>\r\n      </div>\r\n\r\n      <!-- Error State -->\r\n      <div v-if=\"error\" class=\"mt-8 text-center text-red-600\">\r\n        {{ error }}\r\n      </div>\r\n\r\n      <!-- No Events State -->\r\n      <div v-if=\"!loading && !error && filteredEvents.length === 0\" class=\"mt-8 text-center text-gray-500\">\r\n        No events found matching your criteria.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Events',\r\n  setup() {\r\n    const store = useStore()\r\n    const searchQuery = ref('')\r\n    const categoryFilter = ref('')\r\n    const priceFilter = ref('')\r\n    const dateFilter = ref('')\r\n\r\n    const events = computed(() => store.getters.events)\r\n    const loading = computed(() => store.getters.loading)\r\n    const error = computed(() => store.getters.error)\r\n\r\n    const categories = computed(() => {\r\n      const uniqueCategories = new Set(events.value.map(event => event.category))\r\n      return Array.from(uniqueCategories)\r\n    })\r\n\r\n    const filteredEvents = computed(() => {\r\n      return events.value.filter(event => {\r\n        const matchesSearch = event.title.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n                            event.description.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n        const matchesCategory = !categoryFilter.value || event.category === categoryFilter.value\r\n        const matchesPrice = !priceFilter.value || \r\n                           (priceFilter.value === 'free' && event.price === 0) ||\r\n                           (priceFilter.value === 'paid' && event.price > 0)\r\n        const matchesDate = !dateFilter.value || matchesDateFilter(event.date, dateFilter.value)\r\n\r\n        return matchesSearch && matchesCategory && matchesPrice && matchesDate\r\n      })\r\n    })\r\n\r\n    const formatDate = (date) => {\r\n      return new Date(date).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      })\r\n    }\r\n\r\n    const matchesDateFilter = (date, filter) => {\r\n      const eventDate = new Date(date)\r\n      const today = new Date()\r\n      const weekFromNow = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000)\r\n      const monthFromNow = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000)\r\n\r\n      switch (filter) {\r\n        case 'today':\r\n          return eventDate.toDateString() === today.toDateString()\r\n        case 'week':\r\n          return eventDate >= today && eventDate <= weekFromNow\r\n        case 'month':\r\n          return eventDate >= today && eventDate <= monthFromNow\r\n        default:\r\n          return true\r\n      }\r\n    }\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        await store.dispatch('fetchEvents')\r\n      } catch (error) {\r\n        console.error('Error fetching events:', error)\r\n      }\r\n    })\r\n\r\n    return {\r\n      events,\r\n      loading,\r\n      error,\r\n      searchQuery,\r\n      categoryFilter,\r\n      priceFilter,\r\n      dateFilter,\r\n      categories,\r\n      filteredEvents,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}