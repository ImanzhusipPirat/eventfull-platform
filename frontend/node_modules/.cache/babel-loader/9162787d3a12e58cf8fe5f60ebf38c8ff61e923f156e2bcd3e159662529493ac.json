{"ast":null,"code":"import _regeneratorRuntime from \"D:/eventfull/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/eventfull/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Register',\n  setup: function setup() {\n    var store = useStore();\n    var router = useRouter();\n    var loading = ref(false);\n    var error = ref('');\n    var form = ref({\n      full_name: '',\n      email: '',\n      password: '',\n      confirm_password: ''\n    });\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              loading.value = true;\n              error.value = '';\n\n              // Validate passwords match\n              if (!(form.value.password !== form.value.confirm_password)) {\n                _context.next = 6;\n                break;\n              }\n              error.value = 'Passwords do not match';\n              loading.value = false;\n              return _context.abrupt(\"return\");\n            case 6:\n              _context.prev = 6;\n              _context.next = 9;\n              return store.dispatch('register', {\n                full_name: form.value.full_name,\n                email: form.value.email,\n                password: form.value.password\n              });\n            case 9:\n              // Redirect to home page after successful registration\n              router.push('/');\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](6);\n              error.value = _context.t0.message || 'Failed to create account. Please try again.';\n            case 15:\n              _context.prev = 15;\n              loading.value = false;\n              return _context.finish(15);\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[6, 12, 15, 18]]);\n      }));\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return {\n      form: form,\n      loading: loading,\n      error: error,\n      handleSubmit: handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","useRouter","name","setup","store","router","loading","error","form","full_name","email","password","confirm_password","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","value","abrupt","dispatch","push","t0","message","finish","stop","apply","arguments"],"sources":["D:\\eventfull\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n    <div class=\"max-w-md w-full space-y-8\">\r\n      <div>\r\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          Create your account\r\n        </h2>\r\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\r\n          Or\r\n          <router-link to=\"/login\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n            sign in to your account\r\n          </router-link>\r\n        </p>\r\n      </div>\r\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleSubmit\">\r\n        <div class=\"rounded-md shadow-sm -space-y-px\">\r\n          <div>\r\n            <label for=\"full_name\" class=\"sr-only\">Full Name</label>\r\n            <input\r\n              id=\"full_name\"\r\n              v-model=\"form.full_name\"\r\n              type=\"text\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Full Name\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"email\" class=\"sr-only\">Email address</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"form.email\"\r\n              type=\"email\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Email address\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"password\" class=\"sr-only\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"form.password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label for=\"confirm_password\" class=\"sr-only\">Confirm Password</label>\r\n            <input\r\n              id=\"confirm_password\"\r\n              v-model=\"form.confirm_password\"\r\n              type=\"password\"\r\n              required\r\n              class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n              placeholder=\"Confirm Password\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            :disabled=\"loading\"\r\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n          >\r\n            <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\r\n              <svg\r\n                class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\"\r\n                  clip-rule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </span>\r\n            {{ loading ? 'Creating account...' : 'Create account' }}\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Error Message -->\r\n        <div v-if=\"error\" class=\"text-red-600 text-sm text-center\">\r\n          {{ error }}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Register',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const loading = ref(false)\r\n    const error = ref('')\r\n\r\n    const form = ref({\r\n      full_name: '',\r\n      email: '',\r\n      password: '',\r\n      confirm_password: ''\r\n    })\r\n\r\n    const handleSubmit = async () => {\r\n      loading.value = true\r\n      error.value = ''\r\n\r\n      // Validate passwords match\r\n      if (form.value.password !== form.value.confirm_password) {\r\n        error.value = 'Passwords do not match'\r\n        loading.value = false\r\n        return\r\n      }\r\n\r\n      try {\r\n        await store.dispatch('register', {\r\n          full_name: form.value.full_name,\r\n          email: form.value.email,\r\n          password: form.value.password\r\n        })\r\n\r\n        // Redirect to home page after successful registration\r\n        router.push('/')\r\n      } catch (err) {\r\n        error.value = err.message || 'Failed to create account. Please try again.'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      form,\r\n      loading,\r\n      error,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":";;;AAiGA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,IAAMK,MAAK,GAAIJ,SAAS,CAAC;IACzB,IAAMK,OAAM,GAAIP,GAAG,CAAC,KAAK;IACzB,IAAMQ,KAAI,GAAIR,GAAG,CAAC,EAAE;IAEpB,IAAMS,IAAG,GAAIT,GAAG,CAAC;MACfU,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,gBAAgB,EAAE;IACpB,CAAC;IAED,IAAMC,YAAW;MAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACnBjB,OAAO,CAACkB,KAAI,GAAI,IAAG;cACnBjB,KAAK,CAACiB,KAAI,GAAI,EAAC;;cAEf;cAAA,MACIhB,IAAI,CAACgB,KAAK,CAACb,QAAO,KAAMH,IAAI,CAACgB,KAAK,CAACZ,gBAAgB;gBAAAS,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACrDhB,KAAK,CAACiB,KAAI,GAAI,wBAAuB;cACrClB,OAAO,CAACkB,KAAI,GAAI,KAAI;cAAA,OAAAH,QAAA,CAAAI,MAAA;YAAA;cAAAJ,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAKdnB,KAAK,CAACsB,QAAQ,CAAC,UAAU,EAAE;gBAC/BjB,SAAS,EAAED,IAAI,CAACgB,KAAK,CAACf,SAAS;gBAC/BC,KAAK,EAAEF,IAAI,CAACgB,KAAK,CAACd,KAAK;gBACvBC,QAAQ,EAAEH,IAAI,CAACgB,KAAK,CAACb;cACvB,CAAC;YAAA;cAED;cACAN,MAAM,CAACsB,IAAI,CAAC,GAAG;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAO,EAAA,GAAAP,QAAA;cAEfd,KAAK,CAACiB,KAAI,GAAIH,QAAA,CAAAO,EAAA,CAAIC,OAAM,IAAK,6CAA4C;YAAA;cAAAR,QAAA,CAAAC,IAAA;cAEzEhB,OAAO,CAACkB,KAAI,GAAI,KAAI;cAAA,OAAAH,QAAA,CAAAS,MAAA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA,CAExB;MAAA,gBAzBML,YAAWA,CAAA;QAAA,OAAAC,IAAA,CAAAkB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAyBjB;IAEA,OAAO;MACLzB,IAAI,EAAJA,IAAI;MACJF,OAAO,EAAPA,OAAO;MACPC,KAAK,EAALA,KAAK;MACLM,YAAW,EAAXA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}