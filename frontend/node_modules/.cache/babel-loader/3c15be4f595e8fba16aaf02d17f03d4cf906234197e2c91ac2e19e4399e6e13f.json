{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:8000';\nexport default createStore({\n  state: {\n    auth: {\n      isAuthenticated: false,\n      user: null,\n      token: localStorage.getItem('token') || null\n    },\n    events: {\n      list: [],\n      loading: false,\n      error: null\n    }\n  },\n  mutations: {\n    SET_AUTH(state, {\n      user,\n      token\n    }) {\n      state.auth.isAuthenticated = !!token;\n      state.auth.user = user;\n      state.auth.token = token;\n      if (token) {\n        localStorage.setItem('token', token);\n      } else {\n        localStorage.removeItem('token');\n      }\n    },\n    SET_EVENTS(state, events) {\n      state.events.list = events;\n    },\n    SET_LOADING(state, loading) {\n      state.events.loading = loading;\n    },\n    SET_ERROR(state, error) {\n      state.events.error = error;\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, credentials) {\n      try {\n        const response = await axios.post(`${API_URL}/auth/login`, credentials);\n        commit('SET_AUTH', {\n          user: response.data.user,\n          token: response.data.token\n        });\n        return response.data;\n      } catch (error) {\n        throw error.response.data;\n      }\n    },\n    async register({\n      commit\n    }, userData) {\n      try {\n        const response = await axios.post(`${API_URL}/users/`, userData);\n        commit('SET_AUTH', {\n          user: response.data,\n          token: response.data.token\n        });\n        return response.data;\n      } catch (error) {\n        throw error.response.data;\n      }\n    },\n    async logout({\n      commit\n    }) {\n      commit('SET_AUTH', {\n        user: null,\n        token: null\n      });\n    },\n    async fetchEvents({\n      commit\n    }) {\n      commit('SET_LOADING', true);\n      try {\n        const response = await axios.get(`${API_URL}/events/`);\n        commit('SET_EVENTS', response.data);\n        return response.data;\n      } catch (error) {\n        commit('SET_ERROR', error.message);\n        throw error;\n      } finally {\n        commit('SET_LOADING', false);\n      }\n    },\n    async createEvent({\n      commit\n    }, eventData) {\n      try {\n        const response = await axios.post(`${API_URL}/events/`, eventData, {\n          headers: {\n            Authorization: `Bearer ${commit.state.auth.token}`\n          }\n        });\n        commit('SET_EVENTS', [...commit.state.events.list, response.data]);\n        return response.data;\n      } catch (error) {\n        throw error.response.data;\n      }\n    }\n  },\n  getters: {\n    isAuthenticated: state => state.auth.isAuthenticated,\n    currentUser: state => state.auth.user,\n    events: state => state.events.list,\n    loading: state => state.events.loading,\n    error: state => state.events.error\n  }\n});","map":{"version":3,"names":["createStore","axios","API_URL","state","auth","isAuthenticated","user","token","localStorage","getItem","events","list","loading","error","mutations","SET_AUTH","setItem","removeItem","SET_EVENTS","SET_LOADING","SET_ERROR","actions","login","commit","credentials","response","post","data","register","userData","logout","fetchEvents","get","message","createEvent","eventData","headers","Authorization","getters","currentUser"],"sources":["D:/eventfull/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\n\r\nconst API_URL = 'http://localhost:8000'\r\n\r\nexport default createStore({\r\n  state: {\r\n    auth: {\r\n      isAuthenticated: false,\r\n      user: null,\r\n      token: localStorage.getItem('token') || null\r\n    },\r\n    events: {\r\n      list: [],\r\n      loading: false,\r\n      error: null\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_AUTH(state, { user, token }) {\r\n      state.auth.isAuthenticated = !!token\r\n      state.auth.user = user\r\n      state.auth.token = token\r\n      if (token) {\r\n        localStorage.setItem('token', token)\r\n      } else {\r\n        localStorage.removeItem('token')\r\n      }\r\n    },\r\n    SET_EVENTS(state, events) {\r\n      state.events.list = events\r\n    },\r\n    SET_LOADING(state, loading) {\r\n      state.events.loading = loading\r\n    },\r\n    SET_ERROR(state, error) {\r\n      state.events.error = error\r\n    }\r\n  },\r\n  actions: {\r\n    async login({ commit }, credentials) {\r\n      try {\r\n        const response = await axios.post(`${API_URL}/auth/login`, credentials)\r\n        commit('SET_AUTH', {\r\n          user: response.data.user,\r\n          token: response.data.token\r\n        })\r\n        return response.data\r\n      } catch (error) {\r\n        throw error.response.data\r\n      }\r\n    },\r\n    async register({ commit }, userData) {\r\n      try {\r\n        const response = await axios.post(`${API_URL}/users/`, userData)\r\n        commit('SET_AUTH', {\r\n          user: response.data,\r\n          token: response.data.token\r\n        })\r\n        return response.data\r\n      } catch (error) {\r\n        throw error.response.data\r\n      }\r\n    },\r\n    async logout({ commit }) {\r\n      commit('SET_AUTH', { user: null, token: null })\r\n    },\r\n    async fetchEvents({ commit }) {\r\n      commit('SET_LOADING', true)\r\n      try {\r\n        const response = await axios.get(`${API_URL}/events/`)\r\n        commit('SET_EVENTS', response.data)\r\n        return response.data\r\n      } catch (error) {\r\n        commit('SET_ERROR', error.message)\r\n        throw error\r\n      } finally {\r\n        commit('SET_LOADING', false)\r\n      }\r\n    },\r\n    async createEvent({ commit }, eventData) {\r\n      try {\r\n        const response = await axios.post(`${API_URL}/events/`, eventData, {\r\n          headers: {\r\n            Authorization: `Bearer ${commit.state.auth.token}`\r\n          }\r\n        })\r\n        commit('SET_EVENTS', [...commit.state.events.list, response.data])\r\n        return response.data\r\n      } catch (error) {\r\n        throw error.response.data\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    isAuthenticated: state => state.auth.isAuthenticated,\r\n    currentUser: state => state.auth.user,\r\n    events: state => state.events.list,\r\n    loading: state => state.events.loading,\r\n    error: state => state.events.error\r\n  }\r\n}) "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}